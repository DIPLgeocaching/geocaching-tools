<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:body>
        <ui:composition template="/WEB-INF/template.xhtml">
            <ui:define name="topBar">
                <h1>#{i18n['registedCachesHeader']}</h1>
                <h:outputText value="#{i18n['registedCachesNoCaches']}"
                              rendered="#{registedCacheCon.noCaches}"/>
            </ui:define>

            <ui:define name="content">
                <h:form>
                    <p:dataTable value="#{registedCacheCon.caches}"
                                 var="cache"
                                 rendered="#{!registedCacheCon.noCaches}"
                                 emptyMessage="#{i18n['registedCachesEmptyMessage']}"
                                 style="margin-left: 30px; margin-right: 30px">

                        <p:column headerText="#{i18n['registedCachesState']}"
                                  sortBy="#{cache.status}"
                                  style="width: 80px">
                            <p:commandLink styleClass="ui-icon ui-icon-bullet"
                                           rendered="#{cache.status}" />
                            <p:commandLink styleClass="ui-icon ui-icon-radio-off"
                                           rendered="#{!cache.status}" />
                        </p:column>

                        <p:column headerText="#{i18n['registedCachesWaypoint']}"
                                  sortBy="#{cache.gcWaypoint}"
                                  filterMatchMode="startsWith"
                                  style="width:125px">
                            <p:outputLabel value="#{cache.gcWaypoint}"/>
                        </p:column>

                        <p:column headerText="Name"
                                  sortBy="#{cache.gcName}"
                                  filterMatchMode="contains">
                            <p:outputLabel value="#{cache.gcName}"/>
                        </p:column>
                        
                        <p:column style="width: 80px"
                                  headerText="#{i18n['registedCachesStatistics']}">
                            <p:commandLink action="#{statsCon.setStatsCache(cache)}"
                                           styleClass="ui-icon ui-icon-signal"
                                           ajax="#{false}">
                            </p:commandLink>
                        </p:column>
                        
                        <p:column style="width: 80px"
                                  headerText="#{i18n['registedCachesEdit']}">
                            <p:commandLink action="#{changeCacheCon.setChangingCache(cache)}"
                                           styleClass="ui-icon ui-icon-pencil"
                                           ajax="#{false}">
                            </p:commandLink>
                        </p:column>
                    </p:dataTable>
                </h:form>
                <br/>
                <h:form>
                    <p:button value="#{i18n['registedCachesNewCache']}"
                              outcome="createNewCache"
                              style="margin-left: 30px;"/>
                </h:form>
            </ui:define>

        </ui:composition>


    </h:body>
</html>

